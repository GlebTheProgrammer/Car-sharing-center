# SamSolutions Project - Car Sharing Center (На момент 3 ноября 2022 г.)

Разработать приложение-сервис каршеринговой службы с отображением доступных автомобилей на карте. По содержанию - мотоциклы. p.s. Не удержался, поэтому также добавил и  автомобили (Всё свёл под одну сущность - `Vehicles`).

### О том, как я вижу этот проект

Этот проект представляет из себя полноценное веб-приложение, позволяющее любому человеку, имеющему валидную карту для оплаты и права, получить возможность арендовать на время машину другого пользователя, который также зарегистрировался, но не с целью аренды, а с целью предоставления своих автомобилей для пользования другим пользователям. Таким образом, выгоду могут получить как и разработчики приложения, так и непосредственно сами пользователи.

## Что реализовано на данный момент

- Регистрация нового пользователя
- Авторизация
- Главная страница с информацией о сервисе
- Каталог с информацией о доступных автомобилях
- Страница добавления своего личного автомобиля зарегистрированным пользователем
- Страница просмотра информации об автомобиле из каталога для зарегистрированного пользователя
- Ну и много разных фич, как всплывающие уведомления, информация об ошибках, подключение к сторонним сервисам (google maps API) и др.

## Какие планы

- Добавить личный кабинет для авторизованного пользователя
- Добавить сущность менеджера для управления сервисом изнутри
- Добавить возможность авторизованным пользователям оформлять заказы на аренду автомобиля
- Добавить фильтры на страницу с каталогом
- Ну и много ещё чего, что вылетело у меня из головы на момент написания ReadMe

# О технической состаляющей проекта и о его функциях + GUI

В данном разделе я попытался максимально развёрнуто объяснить, как что работает, почему была выбрана именно такая стратегия, с какими трудностями мне пришлось столкнуться и как я их решал (а может быть и не решал (-_-) )

Весь проект был написан с нуля, при помощи bootstrap для оформления визуальной составляющей, с использованием функциональных возможностей Razor Pages, ну и C# .NET Core для написания backend составляющей. В качестве модели взаимодействия мной был сделан выбор в сторону MVC.

### Главная страница и её составляющие

![1](https://user-images.githubusercontent.com/55713244/199783450-c1b8ad2a-3062-4411-901b-f7e5888c1f97.jpg)

Как только неавторизованный пользователь запускает приложение, он сразу же видит главный экран с информацией о сервисе. На данной странице находится вся необходимая информация для ознакомления нового пользователя со всеми возможностями сервиса. Сверху можно видеть элемент `navbar`, который всё время находится на любой из страниц и не пропадает из поля видения, предназначенный для осуществления навигации пользователя по страницам приложения. `Navbar` предоставляет следующие возможности:

1) Перейти на главную страницу с информацией о сервисе
2) Перейти в каталог с доступными автомобилями
3) Перейти на страницу регистрации (для неавторизованного пользователя)
4) Перейти на страницу авторизации (для неавторизованного пользователя)
5) Выйти из аккаунта (для авторизованного пользоавтеля)
6) Перейти на страницу с публикованием своего собственного автомобиля (для авторизованного пользователя)

![2](https://user-images.githubusercontent.com/55713244/199786125-db5a6af0-501a-4597-b247-93a2e42d153f.jpg)

Также, на странице присутствует карта от google, которая показывает расположение абсолютно всех автомобилей в каталоге (на карте появляются маркеры, по котороым можно отследить текущее местоположение транспортных средств). В качестве ограничения, я выбрал город Минск, то есть карта расположена таким образом, чтоб охватить всю область города. Если автомобиль, скажем, будет находиться где-то на улицах Бреста, то на карте мы его не увидим (либо же нужно будет менять масштаб карты). В качестве доступных локаций для размещения автомобилей, я решил ограничиться Беларусью, то есть автомобиль, размещаемый авторизованным пользователем, обязательно должен находиться на территории РБ.

Касательно самой карты, она была подключена в приложение при помощи специального ключа, который работает без каких либо ограничений для поиска местоположения по известным Latitude и Longitude. Однако для получения Latitude и Longitude из строки текста с адресом, потребовалось больше действий (о них будет рассказано ниже).

На любой странице, в самом низу, будет расположена информация о разработчиках приложения и ссылка на соответствующие соц. сети.

### Страница с каталогом и её составляющие

![3](https://user-images.githubusercontent.com/55713244/199789338-78214c30-108e-4292-a29e-61d0772c0b46.jpg)

На странице с каталогом пользователям будет предоставлена возможность просмотреть всю доступную краткую информацию об автомобилях. На странице есть возможность:

- Настроить количество отображаемых автомобилей (3-6-9-12-15)
- Поиск автомобилей по странице (Будет добавлен позже)
- Счётчик отображаемых и доступных автомобилей в левом нижнем углу экрана
- Саморасширяющийся Navbar для перемещения по каталогу в правом нижнем углу экрана

Касательно информации об автомобилях, в каталоге представлены:

- Наименования автомобилей
- Их краткое описание
- Цеза за час и день пользования
- Время с прошлого оформления заказа на этот автомобиль (будет добавлено позже)
- На информацинной карточке присутствует кнопка, при нажатии на которую авторизованный пользователь будет перенаправлен на страницу с более детальной информацией о выбранном транспортном средстве, с которой также сможет оформить заказ на пользование

Таким образом, каталог позволяет рассмотреть ассортимент представленных транспортных средств и выбрать какой-либо экземпляр на свой вкус и цвет 

![4](https://user-images.githubusercontent.com/55713244/199791049-e70e478f-6949-4e92-80e2-d8b96d9c3e35.jpg)

Как только пользователь нажимает кнопку `Sign In`, он немедленно перенаправляется на страницу авторизации.

### Страница авторизации и её составляющие

![5](https://user-images.githubusercontent.com/55713244/199791559-9b7201e7-8cf7-48e1-8a67-3339a127c700.jpg)

На странице авторизации неавторизованному пользователю потребуется ввести свой email и password для успешной авторизации. При ошибке в заполнении поля - будет отображаться сообщение об ошибке при заполнении:

![10](https://user-images.githubusercontent.com/55713244/200046781-c5c5445b-6c5f-45ee-a9cf-1d95c33a065e.jpg)

Если все поля заполнены правильно, но авторизация не прошла - пользователю будет представлено pop up сообщение о неудачной авторизации:

![11](https://user-images.githubusercontent.com/55713244/200047089-da077b56-58c9-481d-8c6a-e2015b4123f3.jpg)

При успешной авторизации, уже авторизованный пользователь, будет перенаправлен на основную страницу, на которой появится сообщение об успешной авторизации, которое автоматически пропадает через 3 секунды после своего появления:

![12](https://user-images.githubusercontent.com/55713244/200047530-64435663-3d16-4208-b309-fbeecaa95709.jpg)

Если же у пользователя нет своего аккаунта, внизу страницы авторизации можно наблюдать сообщение-ссылку, нажатие на которую перенаправит его на страницу с регистрацией.

### Страница регистрации и её составляющие

![6](https://user-images.githubusercontent.com/55713244/199792816-72f1ef25-efec-4459-947b-e58df142dfb7.jpg)

На странице с регистрацией нового пользователя, необходимо будет ввести ряд данных, чтобы программа внесла клиента в базу и регистрация была пройдена успешно. Вся страница наполнена валидацией, и если что-то не пройдёт - пользователь будет уведомлён о том, в каком поле произошла ошибка (такой же приинцип, как и со сраницей авторизации). После успешной регистрации, пользователь будет перенаправлен на страницу с регистрацией, на которой появится сообщение об успешной регистрации:

![13](https://user-images.githubusercontent.com/55713244/200048116-4399e279-19fc-4443-b1d3-cc75fe5af69a.jpg)

Как только пользователь успешно войдёт в свой только что созданный аккаунт, он получит возможность не только просматривать более детальную информацию об автомобилях в каталоге, но и добавлять свои собственные автомобили.

### Страница для публикации своего личного автомобиля 

![7](https://user-images.githubusercontent.com/55713244/199794194-dcceaf86-0003-4bd8-950d-d635b1eac04d.jpg)

На данной странице пользователь должен будет предоставить соответствующую информацию о своём автомобиле, а также установить тариф, по которому будет производиться аренда автомобиля. На странице также присутствует валидация (аналогично странице авторизации и регистрации). Как только пользователь успешно поделится своей машиной, она сразу же появится в каталоге. (Так как пользователь добавил свой автомобиль, логично, что показывать его в каталоге этому же пользователю будет не совсем логично и правильно. Этот нюанс будет устранён в будущем, когда необходимо будет составлять каталог не только согласно пользователю, но и согласно ныне арендованным и не арендованным автомобилям, а также фильтрам).

### Страница с информацией об автомобиле и её составляющие

![8](https://user-images.githubusercontent.com/55713244/199794876-044fbc96-eae7-4562-80ba-b28ca263906b.jpg)

Как только авторизованный пользователь нажимает кнопку `Information` на карточке транспортного средства из каталога, у него открывается соответствующая страница с выбранным автомобилем и более детальной информацией о экземпляре. С этой страницы, вскоре, можно будет оформлять заказы, которые будут фиксироваться в личном кабинете пользователя.

## Технические аспекты проекта 

Ниже я постарался описать интересные технические моменты, которые я предпринимал в течение проектирования и разработки проекта. 

### Проблемы, с которыми столкнулся во время разработки и какой план действий принмал
#### Работа со страницей для отображения каталога и изменения параметров отображения (фильтры, кол-во автомобилей на странице и тд.)

При работе с получением автомобилей из репозитория у меня было 2 идеи, как решить данную задачу: Либо при каждом обращении к контроллеру формировать новый объект с информацией о машинах и передавать его во `View`, либо же принимать этот объект из `View`, если он уже был передан однажды, при этом не делая никаких дополнительных запросов в репозиторий, и модифицировать согласно предпочтениям пользователя по количеству отображения автомобилей на странице и тд. Сначала я принял решение пойти через получение модели из `View`, однако столкнулся с такой проблемой, как `Model Binding`, которая просто так не даёт получить `List` переданных в качестве модели автомобилей: Либо нужно использовать `Ajax`, при этом заранее сериализовать модель в `JSON` и после чего десериализовать полученную `JSON`-строку в `Controller-е`, либо никак) Поэтому я выбрал первый путь (через создание объекта), так как в этом случае придётся манипулировать в основном со ссылками на данные, нежели чем с самими данными. (p.s. Также, работа через первый подход потребовала бы накладных расходов на проверку, а не добавилась ли в репозиторий новая машина, но уже другим пользователем, и если добавилась, также необходимо было бы добавить её в модельку, пришедшую из `View`)
